<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:elasticsearch="http://www.springframework.org/schema/data/elasticsearch"
       xsi:schemaLocation="http://www.springframework.org/schema/data/elasticsearch http://www.springframework.org/schema/data/elasticsearch/spring-elasticsearch.xsd
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!--<elasticsearch:repositories base-package="com.xyz.acme"/>-->
    <elasticsearch:repositories  base-package="com.jd.pop.form.dao.es"/>
    <!--cluster-nodes可以指定多组ip:port,逗号分隔-->
    <elasticsearch:transport-client id="clientWrite" cluster-nodes="${pop-form.es.cluster-nodes-w}" cluster-name="${pop-form.es.cluster-name}" client-transport-sniff="false"/>

    <elasticsearch:transport-client id="clientRead"  cluster-nodes="${pop-form.es.cluster-nodes}" cluster-name="${pop-form.es.cluster-name}" client-transport-sniff="false"/>

    <bean id="esTemplateRead" name="elasticsearchTemplateRead" class="org.springframework.data.elasticsearch.core.ElasticsearchTemplate">
        <constructor-arg name="client" ref="clientRead"/>
       <!-- <property name="searchTimeout" value="${search.timeout.default}"/>-->
    </bean>

    <bean id="esTemplateWrite" name="elasticsearchTemplateWrite" class="org.springframework.data.elasticsearch.core.ElasticsearchTemplate">
        <constructor-arg name="client" ref="clientWrite"/>
       <!-- <property name="searchTimeout" value="${search.timeout.default}"/>-->
    </bean>

</beans>